/* ========================================
   NAVBAR CSS - ENHANCED WITH FIXES
   ======================================== */

/* Header 3D Effect - Enhanced */
.header-3d {
    border-bottom-left-radius: 30px;
    border-bottom-right-radius: 30px;
    border-bottom: 3px solid #e5e7eb;
    box-shadow: 
        0 10px 15px -3px rgba(0, 0, 0, 0.1),
        0 4px 6px -2px rgba(0, 0, 0, 0.05),
        inset 0 -3px 10px rgba(59, 130, 246, 0.08);
    backdrop-filter: blur(10px);
    position: relative;
    z-index: 40; /* Ensure header is below modals but above content */
}

/* ========================================
   CRITICAL FIXES - DO NOT REMOVE
   ======================================== */

/* FIX 1: Ensure all interactive elements are clickable */
button, a, [role="button"] {
    cursor: pointer !important;
    pointer-events: auto !important;
}

/* FIX 2: Dropdown menus must be above everything in navbar */
#dropdown-menu,
#dashboard-menu {
    z-index: 9999 !important;
    position: absolute !important;
    pointer-events: auto !important;
}

/* FIX 3: When dropdown is visible, ensure it's interactive */
#dropdown-menu:not(.hidden),
#dashboard-menu:not(.hidden) {
    display: block !important;
    visibility: visible !important;
    opacity: 1;
}

/* FIX 4: Modal must be above dropdowns */
#logout-modal {
    z-index: 99999 !important;
    pointer-events: auto !important;
}

/* FIX 5: Prevent parent containers from blocking clicks */
.flex.min-h-screen {
    pointer-events: none;
}

.flex.min-h-screen > * {
    pointer-events: auto;
}

/* FIX 6: Backdrop should not block navbar interactions */
.backdrop-blur-sm {
    pointer-events: none !important;
}

.backdrop-blur-sm > * {
    pointer-events: auto !important;
}

/* FIX 7: Ensure buttons have proper stacking */
.quick-action-btn,
.user-btn-3d,
.logout-btn-3d,
.notification-btn-3d,
.settings-btn-3d,
.mobile-btn-3d {
    cursor: pointer !important;
    pointer-events: auto !important;
    position: relative !important;
    z-index: 10 !important;
}

/* ========================================
   ORIGINAL 3D EFFECTS
   ======================================== */

/* Logo 3D Effect */
.logo-3d {
    box-shadow: 
        0 4px 6px -1px rgba(59, 130, 246, 0.3),
        0 2px 4px -1px rgba(59, 130, 246, 0.2),
        inset -2px -2px 4px rgba(0, 0, 0, 0.1),
        inset 2px 2px 4px rgba(255, 255, 255, 0.3);
    transition: all 0.3s ease;
}

.logo-3d:hover {
    transform: translateY(-2px);
    box-shadow: 
        0 6px 8px -1px rgba(59, 130, 246, 0.4),
        0 3px 5px -1px rgba(59, 130, 246, 0.3),
        inset -2px -2px 4px rgba(0, 0, 0, 0.1),
        inset 2px 2px 4px rgba(255, 255, 255, 0.3);
}

/* Avatar 3D Effect - Enhanced */
.avatar-3d {
    box-shadow: 
        0 6px 8px -2px rgba(0, 0, 0, 0.15),
        0 3px 5px -1px rgba(0, 0, 0, 0.1),
        inset -2px -2px 4px rgba(255, 255, 255, 0.6),
        inset 2px 2px 4px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

/* Status Dot 3D */
.status-dot-3d {
    box-shadow: 
        0 2px 4px rgba(34, 197, 94, 0.4),
        inset -1px -1px 2px rgba(255, 255, 255, 0.5);
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Quick Action Button 3D */
.quick-action-btn {
    box-shadow: 
        0 2px 4px rgba(0, 0, 0, 0.05),
        inset -1px -1px 2px rgba(0, 0, 0, 0.03),
        inset 1px 1px 2px rgba(255, 255, 255, 0.5);
}

.quick-action-btn:hover {
    box-shadow: 
        0 4px 6px rgba(59, 130, 246, 0.15),
        inset -1px -1px 2px rgba(59, 130, 246, 0.1),
        inset 1px 1px 2px rgba(255, 255, 255, 0.5);
}

/* Notification Button 3D */
.notification-btn-3d,
.settings-btn-3d,
.mobile-btn-3d {
    box-shadow: 
        0 2px 4px rgba(0, 0, 0, 0.08),
        inset -1px -1px 2px rgba(0, 0, 0, 0.05),
        inset 1px 1px 2px rgba(255, 255, 255, 0.5);
    transition: all 0.3s ease;
}

.notification-btn-3d:hover,
.settings-btn-3d:hover,
.mobile-btn-3d:hover {
    box-shadow: 
        0 4px 6px rgba(0, 0, 0, 0.12),
        inset -2px -2px 4px rgba(0, 0, 0, 0.08),
        inset 2px 2px 4px rgba(255, 255, 255, 0.6);
    transform: translateY(-1px);
}

/* User Button 3D */
.user-btn-3d {
    box-shadow: 
        0 3px 5px rgba(0, 0, 0, 0.08),
        inset -1px -1px 3px rgba(0, 0, 0, 0.05),
        inset 1px 1px 3px rgba(255, 255, 255, 0.5);
    transition: all 0.3s ease;
}

.user-btn-3d:hover {
    box-shadow: 
        0 5px 8px rgba(0, 0, 0, 0.12),
        inset -2px -2px 4px rgba(0, 0, 0, 0.08),
        inset 2px 2px 4px rgba(255, 255, 255, 0.6);
}

/* Pulse Animation for notification dot */
.pulse-dot {
    animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse-ring {
    0%, 100% {
        box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7);
    }
    50% {
        box-shadow: 0 0 0 6px rgba(239, 68, 68, 0);
    }
}

/* Dashboard Dropdown 3D Effect */
.dashboard-dropdown-3d {
    box-shadow: 
        0 10px 15px -3px rgba(0, 0, 0, 0.15),
        0 4px 6px -2px rgba(0, 0, 0, 0.1),
        -2px 0 10px rgba(0, 0, 0, 0.08),
        2px 0 10px rgba(0, 0, 0, 0.08);
    border-left: 2px solid rgba(59, 130, 246, 0.1);
    border-right: 2px solid rgba(59, 130, 246, 0.1);
    animation: slideDown 0.2s ease-out;
}

/* Dropdown 3D Effect - Enhanced */
.dropdown-3d {
    box-shadow: 
        0 20px 25px -5px rgba(0, 0, 0, 0.15),
        0 10px 10px -5px rgba(0, 0, 0, 0.1),
        -4px 0 20px rgba(0, 0, 0, 0.08),
        4px 0 20px rgba(0, 0, 0, 0.08),
        inset 0 2px 4px rgba(59, 130, 246, 0.05);
    border-left: 3px solid rgba(59, 130, 246, 0.15);
    border-right: 3px solid rgba(59, 130, 246, 0.15);
    animation: slideDown 0.3s ease-out;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-15px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Menu Icon 3D */
.menu-icon-3d {
    box-shadow: 
        0 2px 4px rgba(0, 0, 0, 0.05),
        inset -1px -1px 2px rgba(0, 0, 0, 0.05),
        inset 1px 1px 2px rgba(255, 255, 255, 0.5);
    transition: all 0.3s ease;
}

/* Logout Button 3D */
.logout-btn-3d {
    box-shadow: 
        0 2px 4px rgba(239, 68, 68, 0.2),
        inset -1px -1px 2px rgba(0, 0, 0, 0.05),
        inset 1px 1px 2px rgba(255, 255, 255, 0.3);
    border: 1px solid rgba(239, 68, 68, 0.2);
}

.logout-btn-3d:hover {
    box-shadow: 
        0 4px 6px rgba(239, 68, 68, 0.3),
        inset -2px -2px 4px rgba(0, 0, 0, 0.1),
        inset 2px 2px 4px rgba(255, 255, 255, 0.2);
}

/* Modal 3D Effect - Enhanced */
.modal-3d {
    box-shadow: 
        0 25px 50px -12px rgba(0, 0, 0, 0.25),
        0 15px 25px -10px rgba(0, 0, 0, 0.15),
        -6px 0 25px rgba(0, 0, 0, 0.12),
        6px 0 25px rgba(0, 0, 0, 0.12),
        inset 0 2px 4px rgba(239, 68, 68, 0.05);
    border-left: 4px solid rgba(239, 68, 68, 0.3);
    border-right: 4px solid rgba(239, 68, 68, 0.3);
}

.modal-3d.show {
    transform: scale(1) !important;
    opacity: 1 !important;
}

/* Icon 3D Effect - Enhanced */
.icon-3d {
    box-shadow: 
        0 4px 6px rgba(239, 68, 68, 0.2),
        inset -2px -2px 4px rgba(255, 255, 255, 0.6),
        inset 2px 2px 4px rgba(239, 68, 68, 0.15);
}

/* Info Box 3D Effect - Enhanced */
.info-box-3d {
    box-shadow: 
        0 3px 6px rgba(59, 130, 246, 0.1),
        inset -3px 0 6px rgba(59, 130, 246, 0.08),
        inset 3px 0 6px rgba(59, 130, 246, 0.08);
    border-left: 3px solid rgba(59, 130, 246, 0.3);
}

/* Button 3D Effect - Enhanced */
.button-3d {
    box-shadow: 
        0 3px 5px rgba(0, 0, 0, 0.1),
        inset -2px 0 3px rgba(0, 0, 0, 0.08),
        inset 2px 0 3px rgba(255, 255, 255, 0.4);
    transition: all 0.3s ease;
}

.button-3d-red {
    box-shadow: 
        0 5px 8px rgba(239, 68, 68, 0.3),
        inset -3px 0 6px rgba(0, 0, 0, 0.15),
        inset 3px 0 6px rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
}

.button-3d:hover,
.button-3d-red:hover {
    transform: translateY(-2px);
    box-shadow: 
        0 8px 12px rgba(0, 0, 0, 0.2),
        inset -3px 0 6px rgba(0, 0, 0, 0.15),
        inset 3px 0 6px rgba(255, 255, 255, 0.2);
}

/* Dropdown transition */
#dropdown-menu {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    opacity: 0;
    transform: translateY(-15px) scale(0.95);
}

#dropdown-menu.show {
    opacity: 1 !important;
    transform: translateY(0) scale(1) !important;
}

/* Smooth transitions */
* {
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

/* Responsive adjustments */
@media (max-width: 640px) {
    .header-3d {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    
    .modal-3d {
        margin: 1rem;
        max-width: calc(100% - 2rem);
    }

    .dropdown-3d {
        width: calc(100vw - 2rem);
        right: 1rem;
    }
}

@media (max-width: 1024px) {
    .dropdown-3d {
        width: 280px;
    }
}